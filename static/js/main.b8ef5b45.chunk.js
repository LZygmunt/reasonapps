(this.webpackJsonpreason_app=this.webpackJsonpreason_app||[]).push([[0],{24:function(e,t,n){e.exports=n(43)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),i=n(9),u=n(13),s=n(22),l=n(2),d={products:[],isPending:!1,error:"",searchValue:""},p={cart:[],show:!1},h=n(10),m=n(19),f=n(14),E=n(18),C=n.n(E),b=n(23),O=n(4),g=n(5),v=n(7),w=n(6),y=n(8),j=(n(37),function(e){return r.a.createElement("div",{className:"product-item"},r.a.createElement("p",{className:"name"},e.product.name),"product"===e.item&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"price"},e.product.price,"$"),r.a.createElement("div",{className:"back-drop"}),r.a.createElement("button",{onClick:function(){return e.handleClick(e.product)}},"ADD TO CART")),"cart"===e.item&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"plus",onClick:function(){return e.handleClick(Object(l.a)({},e.product,{count:e.product.count+1}))}},"+"),r.a.createElement("button",{className:"delete",onClick:function(){return e.handleClick(Object(l.a)({},e.product,{count:0}))}},"X"),r.a.createElement("p",{className:"count"},"Count: ",e.product.count),r.a.createElement("p",{className:"sum"},Math.round(e.product.count*e.product.price*100)/100,"$"),r.a.createElement("button",{className:"minus",onClick:function(){return e.handleClick(Object(l.a)({},e.product,{count:e.product.count-1}))}})))}),k=function(e){var t,n;return"cart"===e.container&&(t=e.products.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0),n=e.products.map((function(e){return e.count*e.price})).reduce((function(e,t){return e+t}),0)),r.a.createElement(r.a.Fragment,null,"cart"===e.container&&r.a.createElement("div",{id:"summary"},r.a.createElement("p",{id:"count"},"COUNT: ",t),r.a.createElement("p",{id:"price"},Math.round(100*n)/100,"$")),e.products.map((function(t){return r.a.createElement(j,{key:t.id,product:t,children:e.children,item:e.container,handleClick:e.handleClick})})))},P=(n(38),function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(b.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.requestProducts();case 1:case"end":return e.stop()}}),e)}))),n.filteredProducts=function(e){return e.filter((function(e){return e.name.toLowerCase().includes(n.props.searchValue.toLowerCase())}))},n.handleClick=function(e){var t=Object(f.a)(n.props.cart),a=t.findIndex((function(t){return t.id===e.id}));a>-1?t[a].count++:t.push(Object(l.a)({},e,{count:1})),n.props.changeCart(t)},n}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"products-container",className:this.props.showCart?"block-scroll":""},r.a.createElement(k,{products:this.filteredProducts(this.props.products),container:"product",handleClick:this.handleClick}))}}]),t}(a.Component)),S=(n(39),function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t=Object(f.a)(n.props.cart);if(0===e.count)t=t.filter((function(t){return t.id!==e.id}));else if(e.count>0){var a=t.findIndex((function(t){return t.id===e.id}));t[a]=e}n.props.changeCart(t)},n}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"cart-container",className:this.props.showCart?"show":""},r.a.createElement(k,{products:this.props.cart,container:"cart",handleClick:this.handleClick}))}}]),t}(a.Component)),T=n(3),_=(n(40),function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={showInput:!1},n.handleClick=function(e){"search"===e?n.setState((function(e){return{showInput:!e.showInput}})):"cart"===e&&n.props.toggleShowCart()},n}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state.showInput?{color:"#6cb3d7"}:{},n=this.props.showCart?{color:"#6cb3d7"}:{};return r.a.createElement("div",{id:"header"},r.a.createElement("h1",{id:"logo"},"Logo"),r.a.createElement("p",{id:"search"},r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"search",className:this.state.showInput?"show":"",placeholder:"Type product name...",value:this.props.searchValue,onChange:this.props.searchProducts})),r.a.createElement("span",{onClick:function(){return e.handleClick("search")},style:t},r.a.createElement(T.a,{icon:["fas","search"]}))),r.a.createElement("span",{id:"cart",onClick:function(){return e.handleClick("cart")},style:n},r.a.createElement(T.a,{icon:["fas","shopping-cart"]})))}}]),t}(r.a.Component)),R=(n(41),function(){return r.a.createElement("div",{id:"loader"},r.a.createElement("div",null,r.a.createElement("span",{id:"first"},r.a.createElement(T.a,{icon:["fas","shopping-cart"]})),r.a.createElement("span",{id:"second"},r.a.createElement(T.a,{icon:["fas","shopping-cart"]})),r.a.createElement("span",{id:"third"},r.a.createElement(T.a,{icon:["fas","shopping-cart"]}))))}),N=Object(u.b)((function(e){return{products:e.requestProducts.products,isPending:e.requestProducts.isPending,error:e.requestProducts.error,searchValue:e.searchProducts.searchValue,cart:e.cartModification.cart,showCart:e.cartModification.show}}),(function(e){return{requestProducts:function(){return e((function(e){e({type:"REQUEST_PRODUCTS_PENDING"}),fetch("https://www.reasonapps.pl/data.json").then((function(e){return e.json()})).then((function(t){return e({type:"REQUEST_PRODUCTS_SUCCESS",payload:t})})).catch((function(t){return e({type:"REQUEST_PRODUCTS_FAILED",payload:t})}))}))},searchProducts:function(t){return e({type:"SEARCH_PRODUCTS",payload:t.target.value})},changeCart:function(t){return e(function(e){return{type:"CHANGE_CART",payload:e}}(t))},toggleShowCart:function(){return e({type:"TOGGLE_SHOW_CART"})}}}))((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,e),r.a.createElement(P,e),r.a.createElement(S,e),e.isPending&&r.a.createElement(R,null),""!==e.error&&r.a.createElement("h1",{style:{position:"relative",top:"3em"}},"Error occurred while application loading. Please try again later..."))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(42);h.b.add(m.b,m.a);var U=Object(i.c)({requestProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_PRODUCTS_PENDING":return Object(l.a)({},e,{isPending:!0});case"REQUEST_PRODUCTS_SUCCESS":return Object(l.a)({},e,{products:t.payload,isPending:!1});case"REQUEST_PRODUCTS_FAILED":return Object(l.a)({},e,{error:t.payload,isPending:!1});default:return e}},searchProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_PRODUCTS":return Object(l.a)({},e,{searchValue:t.payload});default:return e}},cartModification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SHOW_CART":return Object(l.a)({},e,{show:!e.show});case"CHANGE_CART":return Object(l.a)({},e,{cart:t.payload});default:return e}}}),A=Object(i.d)(U,Object(i.a)(s.a));o.a.render(r.a.createElement(u.a,{store:A},r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.b8ef5b45.chunk.js.map